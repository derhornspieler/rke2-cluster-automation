global:
  imageRegistry: ""
  storageClass: ""
  replicas: 3

deepflow:
  version: "7.1.0"
  image: "deepflowce/deepflow-server:v7.1.0"
  agentImage: "deepflowce/deepflow-agent:v7.1.0"
  ports:
    querier: 20416
    data: 20417
    api: 30880
    otel: 38086

mysql:
  image: "mysql:8.0"
  dbName: "deepflow"
  user: "root"
  password: "deepflow"

clickhouse:
  image: "yandex/clickhouse-server:22.3"

grafanaIntegration:
  enabled: true
  datasourceName: "DeepFlow"
  datasourceNamespace: "cattle-monitoring-system"
  dashboardsNamespace: "cattle-dashboards"
  datasourceIsDefault: false

prometheusIntegration:
  enabled: true
  releaseLabel: "rancher-monitoring"
  scrapeInterval: "30s"
  serviceMonitorNamespace: "cattle-monitoring-system"
  ruleNamespace: "cattle-monitoring-system"
  metricsPath: "/metrics"

deepflowApp:
  enabled: true
  image: "deepflowce/deepflow-app:v7.1.0"
  resources: {}
  config:
    logLevel: "info"
  service:
    type: LoadBalancer
    loadBalancerIP: ""
    nodePort: null
  ingress:
    enabled: false
    className: "traefik"
    annotations: {}
    host: ""
    tls:
      enabled: false
      secretName: ""

traefik:
  enabled: false
  image: "traefik:v2.11"
  replicas: 1
  service:
    type: LoadBalancer
    loadBalancerIP: ""
    annotations: {}
  resources: {}

serviceLB:
  enabled: false
  image: "ghcr.io/kube-vip/kube-vip:v0.6.4"
  interface: ""
  addressRange:
    start: ""
    end: ""
  resources: {}

resources:
  server:
    limits:
      cpu: "1"
      memory: "2Gi"
    requests:
      cpu: "500m"
      memory: "1Gi"
  agent:
    limits:
      cpu: "500m"
      memory: "512Mi"
    requests:
      cpu: "200m"
      memory: "256Mi"
  clickhouse:
    requests:
      storage: "10Gi"
  mysql:
    requests:
      storage: "1Gi"